[{"/Users/jerryxu/Documents/Code/nwHack2021/frontend/src/index.js":"1","/Users/jerryxu/Documents/Code/nwHack2021/frontend/src/reportWebVitals.js":"2","/Users/jerryxu/Documents/Code/nwHack2021/frontend/src/App.js":"3","/Users/jerryxu/Documents/Code/nwHack2021/frontend/src/components/VisuallyImpaired.js":"4","/Users/jerryxu/Documents/Code/nwHack2021/frontend/src/components/AudioImpaired.js":"5","/Users/jerryxu/Documents/Code/nwHack2021/frontend/src/components/VIChatRoom.js":"6","/Users/jerryxu/Documents/Code/nwHack2021/frontend/src/components/AIChatRoom.js":"7"},{"size":500,"mtime":1610249065285,"results":"8","hashOfConfig":"9"},{"size":362,"mtime":1610249065286,"results":"10","hashOfConfig":"9"},{"size":925,"mtime":1610273133550,"results":"11","hashOfConfig":"9"},{"size":400,"mtime":1610294864187,"results":"12","hashOfConfig":"9"},{"size":394,"mtime":1610295105044,"results":"13","hashOfConfig":"9"},{"size":3849,"mtime":1610302677935,"results":"14","hashOfConfig":"9"},{"size":2204,"mtime":1610298400708,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"ctngz4",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"18"},"/Users/jerryxu/Documents/Code/nwHack2021/frontend/src/index.js",[],["32","33"],"/Users/jerryxu/Documents/Code/nwHack2021/frontend/src/reportWebVitals.js",[],"/Users/jerryxu/Documents/Code/nwHack2021/frontend/src/App.js",[],"/Users/jerryxu/Documents/Code/nwHack2021/frontend/src/components/VisuallyImpaired.js",[],"/Users/jerryxu/Documents/Code/nwHack2021/frontend/src/components/AudioImpaired.js",[],"/Users/jerryxu/Documents/Code/nwHack2021/frontend/src/components/VIChatRoom.js",["34","35","36","37","38"],"/Users/jerryxu/Documents/Code/nwHack2021/frontend/src/components/AIChatRoom.js",["39"],"import { useState } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport axios from 'axios';\n\nfirebase.initializeApp({\n  apiKey: 'AIzaSyCl_pgIXTsrdIdOspvpZhIYRlZpsGElwz0',\n  authDomain: 'speech-text-301223.firebaseapp.com',\n  databaseURL: 'https://speech-text-301223-default-rtdb.firebaseio.com',\n  projectId: 'speech-text-301223',\n  storageBucket: 'speech-text-301223.appspot.com',\n  messagingSenderId: '846497528771',\n  appId: '1:846497528771:web:63192c2d0fb44468aedb76',\n  measurementId: 'G-K8WKB4EZHC',\n});\n\nconst firestore = firebase.firestore();\n\nexport default function AIChatRoom() {\n  const messagesRef = firestore.collection('messages');\n  const query = messagesRef.orderBy('createdAt').limit(25);\n  const [messages] = useCollectionData(query, { idField: 'id' });\n  const [formValue, setFormValue] = useState('');\n\n  const sendMessage = async (e) => {\n    e.preventDefault();\n    await messagesRef.add({\n      text: formValue,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp(),\n    });\n\n    setFormValue('');\n    updateBuffer(formValue);\n  };\n\n  const updateBuffer = async (message) => {\n    axios\n      .post('http://localhost:5000/textToSpeech', {\n        text: message,\n      })\n      .then(async (res) => {\n        const buffer = res.data.speechBuffer;\n        const audioRef = firestore.collection('audio').doc('buffer');\n\n        await audioRef.set({\n          buffer,\n        });\n        console.log('message sent');\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  return (\n    <>\n      <main>\n        <div class=\"center\">\n          {messages &&\n            messages.map((msg) => <ChatMessage key={msg.id} message={msg} />)}\n        </div>\n      </main>\n      <form onSubmit={sendMessage}>\n        <input\n          value={formValue}\n          onChange={(e) => setFormValue(e.target.value)}\n        />\n        <button type=\"submit\">Send</button>\n      </form>\n    </>\n  );\n}\n\nfunction ChatMessage(props) {\n  const { text } = props.message;\n  return (\n    <>\n      <img src=\"./avatar.jpg\" />\n      <p className=\"message\">{text}</p>\n    </>\n  );\n}\n",{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","severity":1,"message":"45","line":7,"column":7,"nodeType":"46","messageId":"47","endLine":7,"endColumn":11},{"ruleId":"44","severity":1,"message":"48","line":16,"column":10,"nodeType":"46","messageId":"47","endLine":16,"endColumn":19},{"ruleId":"44","severity":1,"message":"49","line":16,"column":21,"nodeType":"46","messageId":"47","endLine":16,"endColumn":33},{"ruleId":"44","severity":1,"message":"50","line":23,"column":11,"nodeType":"46","messageId":"47","endLine":23,"endColumn":19},{"ruleId":"51","severity":1,"message":"52","line":80,"column":13,"nodeType":"53","endLine":83,"endColumn":15},{"ruleId":"51","severity":1,"message":"52","line":79,"column":7,"nodeType":"53","endLine":79,"endColumn":33},"no-native-reassign",["54"],"no-negated-in-lhs",["55"],"no-unused-vars","'util' is assigned a value but never used.","Identifier","unusedVar","'formValue' is assigned a value but never used.","'setFormValue' is assigned a value but never used.","'observer' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation"]